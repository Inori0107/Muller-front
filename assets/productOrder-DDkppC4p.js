import{Y as u,r as _,T as f,o as s,d as k,w as c,b as y,h as b,c as i,F as h,k as g,t as n,an as V}from"./index-upXNNMXx.js";import{b as l}from"./route-block-B_A1xBdJ.js";import{V as P}from"./VDataTable-C12FRyIb.js";import{V as v}from"./VCol-B9PS1-nb.js";import"./VList-CegBJtsB.js";import"./ssrBoot-DWx4fxk8.js";import"./VDivider-ChAcBHJJ.js";import"./VChip-iaCpIPY1.js";import"./VSlideGroup-BOUIpBLi.js";const w={__name:"productOrder",setup(x){const{apiAuth:m}=V(),p=u(),o=_([]),d=[{title:"編號",key:"_id"},{title:"日期",key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:"商品",key:"cart_P",sortable:!1},{title:"金額",key:"price",value:t=>t.cart_P.reduce((a,e)=>a+e.quantity*e.p_id.price,0)}];return f(async()=>{var t,a;try{const{data:e}=await m.get("/order/product");o.value=e.result}catch(e){console.log(e),p({text:((a=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:a.message)||"發生錯誤",snackbarProps:{color:"red"}})}}),(t,a)=>(s(),k(v,{cols:"12"},{default:c(()=>[y(P,{items:o.value,headers:d},{"item.cart_P":c(({item:e})=>[b("ul",null,[(s(!0),i(h,null,g(e.cart_P,r=>(s(),i("li",{key:r._id},n(r.p_id.name)+" * "+n(r.quantity),1))),128))])]),_:1},8,["items"])]),_:1}))}};typeof l=="function"&&l(w);export{w as default};
